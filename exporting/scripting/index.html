<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.146.3">
    <meta name="generator" content="Relearn 7.6.1+b0c6bb558d7728ac4535a2ac677c5f47297203cc">
    <meta name="description" content="You wanted customized… You got customized. If you go into the Export tab of the Better BibTeX preferences, subtab postscript, you will find a text box (empty by default) where you can edit a javascript snippet which will be executed for each entry generated in the Bib(La)TeX exporter. In this code, you have access to the entry just before it will be written out and cached. There is an API to do this, and it’s fairly stable, but usually you can just open a new issue and ask me to write it, and I’ll add it here (it’s how the examples got here). Postscripts are available in 4 of the translators:">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Scripting :: Better BibTeX for Zotero">
    <meta name="twitter:description" content="You wanted customized… You got customized. If you go into the Export tab of the Better BibTeX preferences, subtab postscript, you will find a text box (empty by default) where you can edit a javascript snippet which will be executed for each entry generated in the Bib(La)TeX exporter. In this code, you have access to the entry just before it will be written out and cached. There is an API to do this, and it’s fairly stable, but usually you can just open a new issue and ask me to write it, and I’ll add it here (it’s how the examples got here). Postscripts are available in 4 of the translators:">
    <meta property="og:url" content="/zotero-better-bibtex/exporting/scripting/index.html">
    <meta property="og:site_name" content="Better BibTeX for Zotero">
    <meta property="og:title" content="Scripting :: Better BibTeX for Zotero">
    <meta property="og:description" content="You wanted customized… You got customized. If you go into the Export tab of the Better BibTeX preferences, subtab postscript, you will find a text box (empty by default) where you can edit a javascript snippet which will be executed for each entry generated in the Bib(La)TeX exporter. In this code, you have access to the entry just before it will be written out and cached. There is an API to do this, and it’s fairly stable, but usually you can just open a new issue and ask me to write it, and I’ll add it here (it’s how the examples got here). Postscripts are available in 4 of the translators:">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Exporting items">
    <meta property="article:tag" content="Scripting">
    <meta itemprop="name" content="Scripting :: Better BibTeX for Zotero">
    <meta itemprop="description" content="You wanted customized… You got customized. If you go into the Export tab of the Better BibTeX preferences, subtab postscript, you will find a text box (empty by default) where you can edit a javascript snippet which will be executed for each entry generated in the Bib(La)TeX exporter. In this code, you have access to the entry just before it will be written out and cached. There is an API to do this, and it’s fairly stable, but usually you can just open a new issue and ask me to write it, and I’ll add it here (it’s how the examples got here). Postscripts are available in 4 of the translators:">
    <meta itemprop="wordCount" content="2514">
    <meta itemprop="keywords" content="Scripting">
    <title>Scripting :: Better BibTeX for Zotero</title><link rel="icon" href="/zotero-better-bibtex/better-bibtex.ico" type="image/x-icon">

    <link href="/zotero-better-bibtex/fonts/fontawesome/css/fontawesome-all.min.css" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/zotero-better-bibtex/fonts/fontawesome/css/fontawesome-all.min.css" rel="stylesheet"></noscript>
    <link href="/zotero-better-bibtex/css/perfect-scrollbar/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="/zotero-better-bibtex/css/theme.min.css" rel="stylesheet">
    <link href="/zotero-better-bibtex/css/format-html.min.css" rel="stylesheet" id="R-format-style">
    <link href="/zotero-better-bibtex/css/auto-complete/auto-complete.min.css" rel="stylesheet">
    <script src="/zotero-better-bibtex/js/auto-complete/auto-complete.min.js" defer></script>
    <script src="/zotero-better-bibtex/js/lunr/lunr.min.js" defer></script>
    <script src="/zotero-better-bibtex/js/lunr/lunr.stemmer.support.min.js" defer></script>
    <script src="/zotero-better-bibtex/js/lunr/lunr.multi.min.js" defer></script>
    <script src="/zotero-better-bibtex/js/lunr/lunr.en.min.js" defer></script>
    <script src="/zotero-better-bibtex/js/search.min.js" defer></script>
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/exporting\/scripting\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='\/zotero-better-bibtex';
      window.relearn.contentLangs=['en'];
      window.relearn.index_js_url="/zotero-better-bibtex/searchindex.en.js";
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // variant stuff
      window.relearn.themevariants = [ 'green' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
<!-- WARNING: this page is generated by https://gohugo.io/ from site/content/exporting/scripting.md. DO NOT EDIT BY HAND -->
<script type="text/javascript">
  if (location.protocol === 'http:' && (location.port === 80 || !location.port)) {
    location.replace(`https:${location.href.substring(location.protocol.length)}`);
  }
</script>

<style>
  details.details > summary.summary::before {
    content: '▶️';
  }

  details.details[open] > summary.summary:before {
    content: '🔽';
  }

   
</style>


  </head>
  <body class="mobile-support html" data-url="/zotero-better-bibtex/exporting/scripting/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#you-wanted-customized">You wanted customized&hellip;</a></li>
    <li><a href="#the-api-for-better-bibtex-and-better-biblatex">The API for <code>Better BibTeX</code> and <code>Better BibLaTeX</code></a></li>
    <li><a href="#the-api-for-bettercsljson-and-bettercslyaml">The API for <code>BetterCSLJSON</code> and <code>BetterCSLYAML</code></a></li>
    <li><a href="#item-types-and-fields">Item types and fields</a></li>
    <li><a href="#debugging">Debugging</a></li>
    <li><a href="#samples">Samples</a>
      <ul>
        <li><a href="#add-accessdate-url-for-bibtex">Add accessdate, url for BibTeX</a></li>
        <li><a href="#commas-in-keywords">Comma&rsquo;s in keywords</a></li>
        <li><a href="#add-doi-in-note-field">Add DOI in note field</a></li>
        <li><a href="#add-arxiv-data">Add arXiv data</a></li>
        <li><a href="#custom-field-order">Custom field order</a></li>
        <li><a href="#case-protect-italicized-text">Case-protect italicized text</a></li>
        <li><a href="#detect-and-protect-latex-math-formulas">Detect and protect LaTeX math formulas</a></li>
        <li><a href="#or-detect-and-protect-simple-latex-commands">Or, detect and protect (simple) LaTeX commands</a></li>
        <li><a href="#detect-and-protect-mathjax">Detect and protect MathJax</a></li>
        <li><a href="#replace-director-with-author-for-videorecording-and-film-entries">Replace <code>director</code> with <code>author</code> for <code>videoRecording</code> and <code>film</code> entries</a></li>
        <li><a href="#changing-the-entry-type-from-collection-to-book">Changing the entry type from collection to book</a></li>
        <li><a href="#set-the-entry-type-to-misc-for-arxiv-preprints-in-bibtex">Set the entry type to <code>misc</code> for arXiv preprints in BibTeX</a></li>
        <li><a href="#citing-documents-with-a-physical-archive-location">Citing documents with a physical archive location</a></li>
        <li><a href="#export-season-for-bibtex">Export season for BibTeX</a></li>
        <li><a href="#adding-rights-field-in-biblatex">Adding rights field in BibLaTeX</a></li>
        <li><a href="#use--in-file-paths-to-avoid-the-bib-file-being-different-on-different-computers">Use <code>~</code> in file paths to avoid the .bib file being different on different computers</a></li>
        <li><a href="#adding-file-field-for-csl-json-export">Adding file field for CSL JSON export</a></li>
        <li><a href="#convert-windows-attachment-paths-to-unix">Convert Windows attachment paths to Unix</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList">
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/zotero-better-bibtex/index.html"><span itemprop="name">Better BibTeX for Zotero</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/zotero-better-bibtex/exporting/index.html"><span itemprop="name">Exporting</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Scripting</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://github.com/retorquere/zotero-better-bibtex/edit/master/site/content/exporting/scripting.md" rel="external" target="_blank" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/zotero-better-bibtex/exporting/pull/index.html" title="Pull export (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/zotero-better-bibtex/exporting/extra-fields/index.html" title="Extra fields (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable exporting" tabindex="-1">
        <div class="flex-block-wrapper">
        </div>
      </main>
    </div>
    <script src="/zotero-better-bibtex/js/clipboard/clipboard.min.js" defer></script>
    <script src="/zotero-better-bibtex/js/perfect-scrollbar/perfect-scrollbar.min.js" defer></script>
    <script src="/zotero-better-bibtex/js/theme.min.js" defer></script>
  </body>
</html>
